webpackJsonp([12],{GF4k:function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var t=o("mvHQ"),n=o.n(t),i=o("n5Qe"),r={data:function(){return{code:"",state:"",school:"",user_id:""}},created:function(){this.$toast.loading("登录中..."),console.log(window.location),this.code=i.o("code"),this.state=i.o("state"),this.school=i.o("school"),this.user_id=i.o("user_id"),null!==this.school&&sessionStorage.setItem("school",this.school),null!==this.user_id&&sessionStorage.setItem("user_id",this.user_id),console.log("code="+this.code),console.log("state="+this.state),this.code?this.GetOpenId():i.u(this.state)},methods:{GetOpenId:function(e){var s=this;i.m({code:s.code},function(e){console.log("获取OpenId"),console.log(e.data),"ok"==e.msg?(sessionStorage.setItem("openId",e.data),"empty-1"===s.state?s.$router.push("/empty-1?school="+sessionStorage.getItem("school")+"&user_id="+sessionStorage.getItem("user_id")+"&open_id="+sessionStorage.getItem("openId")):"empty"===s.state?s.$router.push("/empty?school="+sessionStorage.getItem("school")+"&user_id="+sessionStorage.getItem("user_id")+"&open_id="+sessionStorage.getItem("openId")):s.$router.push("/"+s.state)):s.$toast.fail("请关注公众号")})},GetUserInfo:function(){var e=this;i.p({user_openid:sessionStorage.getItem("openId")},function(s){console.log("11111,用户信息"),console.log(s.user),"ok"===s.msg?(sessionStorage.setItem("userInfor",n()(s.user)),i.d.userInfor=s.user,e.$router.push("/personal")):(console.log("2222,用户信息"),e.$router.push("/userInfo"))})}}},a={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"login-wrap"})},staticRenderFns:[]};var u=o("VU/8")(r,a,!1,function(e){o("ZE1E")},"data-v-589b1cf9",null);s.default=u.exports},ZE1E:function(e,s){}});